<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/public.css">

    <style>
        span {
            font-size: 1.5rem;
            font-weight: bold;
            color: orange;
        }
    </style>

    <script>
        const proc1 = () => {
            // let res = `href : ${location.href}<br>`
            let res = `href : ${decodeURI(location.href)}<br>`
            res += `protocol : ${location.protocol}<br>`
            res += `host : ${location.host}<br>`
            res += `hostname : ${location.hostname}<br>`
            res += `port : ${location.port}<br>`
            res += `pathname : ${location.pathname}<br>`

            document.querySelector('#result1').innerHTML += res;
        }
        const proc2 = () => {
            
            // location.href="http://localhost:5501/0221/test_경과시간.html"
            location.href="timeout_interval.html"
            

        }


        const fnAssign = () => {
            location.assign("timeout_interval.html");
        }


        const fnReplace = () => {
            location.replace("timeout_interval.html");
        }


        const fnRelad = () => {
            // 랜덤으로 발생되는 문자열을 ID = result2에 출력
            // 1초후에 원래 문서로 돌아온다.

            arr = ["Hello", "JavaScript", "Good!!!", "알아서 도망감", "그대를 못 믿겠어요",
                "퇴근을 합시다", "무궁화는 아직 피지 않습니다.", "별빛같이 집에 가고싶다."];

            rnd = Math.floor(Math.random() * arr.length);

            // 문자열 선택      - arr[rnd]

            // 출력장소 검색
            res2 = document.querySelector('#result2');

            res2.innerText = arr[rnd];
            res2.style.color = "blue";
            res2.style.fontSize = "2.0rem";

            setTimeout(function(){
                location.reload();
            },200);
        }
    </script>

</head>

<body>
    <div class="box">

        <h2>location객체-URL정보를 가짐 <br>
        </h2>
        <input type="button" value="확인" onclick="proc1()">

        <br>
        ※ 인코딩과 디코딩<br>
        인코딩 ; 문자를 컴퓨터에 저장하거나 통신에 사용할 목적으로 부호화.<br>
        웹에서 통신시 한글 같은 유니코드 문자가 오작동을 일으킬 수 있으므로.<br>
        <br>
        디코딩 ; 인코딩과 반대로 문자를 원래대로 되돌리는 것. decodeURI(location.href)<br>
        <br>
        <div id="result1" class="res"></div>
        <br>
    </div>
    <div class="box">
        <h2>문서이동하기</h2>
        <h3>1. button 함수호출 -<span>onclick="proc2()"</span> </h3>
        <input type="button" value="1.이동" onclick="proc2()">

        <h3>2. button 서버로전송 -<span>onclick="location.href='href.jsp?id=a001'"</span></h3>
        <input type="button" value="1.이동" onclick="location.href='hrefsend.jsp?id=a001'">
        <br>

        <h3> 3. href에서 다른 화일지정 <span>href="timeout_interval.html"</span></h3>
        <a href="timeout_interval.html">이동</a>

        <h3> 4. href 에서 script의 함수호출 <span>href="javascript:proc2()"</span></h3>
        <a href="javascript:proc2()">이동</a>

        <h3>5. a태그 onclick=script함수호출 <span>onclick="proc2()"</span> </h3>
        <a href="#" onclick="proc2()">이동</a>

        <h3>6. a태그 onclick=서버로 보내기<span> onclick="location.href='href.jsp?id=a001'"</span></h3>
        <a href="#" onclick="location.href='hrefsend.jsp?id=a001'">서버로get</a>
    </div>

    <div class="box">

        <h3>location객체 <br>
            assign() : 새로운 문서로드 , 히스토리 남김, 뒤로가기 가능 <br>
            replace() :새로운 문서 대체 히스토리 남기지 않음 , 뒤로가기 불가능 <br>
            reload() : 현재 문서를 다시 로드-</h3>
        <input type="button" value="assign" onclick="fnAssign()">
        <input type="button" value="replace" onclick="fnReplace()">
        <input type="button" value="reload" onclick="fnRelad()">
        <br><br>
        <div id="result2" class="res"></div>
    </div>

</body>

</html>